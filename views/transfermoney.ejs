<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <title>Transfer Money</title>
        <link href="tnsStyle.css" rel="stylesheet" type="text/css"/>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
   
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Trirong">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>  

    </head >
    <body style="background-color: black;">
        <div class="container">
            <nav class="navbar navbar-light">
                <div class="container-fluid">
                  <a class="navbar-brand" href="index.html"  id="home"><i class="fa fa-home" style="font-size:30px;color:white"></i>&nbsp;Home</a>
                 
                </div>
              </nav>
        </div>
        <div class="container" id='head'>
            <h1>User Account Details</h1>
        </div>
        <div class="container" id='tb'>
            <table class="table table-bordered" style="border-color: paleturquoise">
                <thead>

                    <tr id="rows">
                        <% const a = Allo %>
                        <% a.forEach(entry => { %>
                        <td><%= entry.ID %></td>
                        <td><%= entry.Name %></td>
                        <td><%= entry.Email %></td>
                        <td><%= entry.Amount %></td>
                        <td><button type="button" id="trbtn" onclick="fss('<%= entry.Name %>','<%= entry.ID %>')"
                            class="btn btn-outline-warning" data-bs-toggle="modal" data-bs-target="#staticBackdrop">Trasnfer
                            Money</button></td>
              
              
                      </tr>
              
                      <% }) %>
                    
                </tbody>
            </table>
        </div>

        <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
    aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="staticBackdropLabel">Transfer</h5>
          <button type="button" class="btn-close" id="close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div class="mb-3">


            <form action="/action" method="post">
              <label for="from" class="form-label">From</label>
              <span id="input" style="width: fit-content;"> </span>
              <div>
                <label for="select1" class="label">To:</label>
                <select class="form-select" id="select1" name="too" aria-label="Default select example"></select>

              </div>

              <label for="Amount" class="form-label">Amount</label>
              <input type="number" class="form-control" name="Amount" id="Amount">

              <button type="submit" class="btn btn-primary">Transfer</button>

            </form>





          </div>

        </div>
      </div>
    </div>


    </body>


    <script>
        const All = '<%- JSON.stringify(Allo) %>';
      
      
      
        const Allo = JSON.parse(All);
      
        var a;
        var b;
      
      
      
      
        function fss(x, id) {
      
      
      
      
      
      
          document.getElementById("input").innerHTML = '<input type="text" name="frm" class="form-control" id="from" value=' +
            x + '>';
      
      
          Allo.forEach(key => {
      
      
            if (key.ID == id) {
      
      
            } else {
      
      
              var a = document.getElementById("select1");
              var option = document.createElement("option");
              option.innerHTML = '<option value=' + key.ID + '>' + key.Name + ' </option>';
              a.add(option);
      
      
            }
      
      
      
      
      
      
          });
      
      
          document.getElementById("close").addEventListener("click", () => {
      
            console.log("Event happended");
            const myNode = document.getElementById("select1");
            myNode.innerHTML = '';
      
      
      
      
          });
      
      
      
        }

    </script>
